<br>
<br>
<div class="em-container">
  <md-card class="card-intro">
    <md-card-title>
      Emotion Recognition API
    </md-card-title>
    <md-card-subtitle>
      Analyze faces to detect a range of feelings and personalize your app's responses.
    </md-card-subtitle>
    <img md-card-image src="../../assets/images/emotions.jpg">
    <md-card-content>
      <p class="cart-content">
        The Emotion API takes a facial expression in an image as an input, and returns the confidence across a set of emotions for
        each face in the image, as well as bounding box for the face, using the Face API. If a user has already called the
        Face API, they can submit the face rectangle as an optional input. The emotions detected are anger, contempt, disgust,
        fear, happiness, neutral, sadness, and surprise. These emotions are understood to be cross-culturally and universally
        communicated with particular facial expressions.
      </p>
    </md-card-content>
    <md-card-actions>
      <button md-button (click)="this.microsoftLink()"> <md-icon>dashboard</md-icon>  MICROSOFT</button>
      <button md-button (click)="this.docLink()"> <md-icon>build</md-icon> DOC</button>
    </md-card-actions>
  </md-card>
  <br>
  <md-grid-list cols="2" rowHeight="20px" id="commands">
    <md-grid-tile style="text-align: left;" rowspan="3">
      <input type="file" style="display:none;" #fileInput (change)="addedImage($event)">
      <button md-raised-button type="button" (click)="fileInput.click()">
          <label for="fileToUpload">Upload an image</label>
        </button>
      <p class="file-name">{{this.fileName}}</p>
    </md-grid-tile>
    <md-grid-tile style="text-align: right;" rowspan="3">
      <button md-raised-button type="button" (click)="sendImage()"><md-icon style="color: white;">check</md-icon> <b style="color:white;">Send request</b></button>
    </md-grid-tile>
    <md-grid-tile *ngIf="this.loading" colspan="2" rowspan="1">
      <md-progress-bar mode="query" color="accent"></md-progress-bar>
    </md-grid-tile>
  </md-grid-list>
  <md-grid-list cols="2" rowHeight="50px">
    <md-grid-tile [style.visibility]="this.canvasVisibility" colspan="1" rowspan="18">
      <canvas #imagePlaceholder></canvas>
    </md-grid-tile>
    <md-grid-tile *ngIf="this.emService.emotions.length > 0" style="font-size: 1.2em;" rowspan="1">
      <p><br>Possible emotions: <b *ngFor="let item of this.emService.emotions">{{item}} </b> </p>
    </md-grid-tile>
    <md-grid-tile colspan="1" rowspan="16">
      <md-tab-group>
        <md-tab label="Individual n.{{this.emService.ImageResultArray.indexOf(item)}}" *ngFor="let item of this.emService.ImageResultArray"
          rowspan="8" style="padding: 100px;">
          <md-list>
            <md-list-item>
              <md-icon md-list-icon class="anger"></md-icon>
              <h4 md-line>Anger: </h4>
              <p md-line>{{item.scores.anger}} %
                <md-progress-bar mode="determinate" [value]="item.scores.anger" color="warn"></md-progress-bar>
              </p>
            </md-list-item>
            <br>
            <md-list-item>
              <md-icon md-list-icon class="contempt"></md-icon>
              <h4 md-line>Contempt: </h4>
              <p md-line>{{item.scores.contempt}} %
                <md-progress-bar mode="determinate" color="warn" [value]="item.scores.contempt"></md-progress-bar>
              </p>

            </md-list-item>
            <br>
            <md-list-item>
              <md-icon md-list-icon class="disgust"></md-icon>
              <h4 md-line>Disgust: </h4>
              <p md-line>{{item.scores.disgust}} %
                <md-progress-bar mode="determinate" [value]="item.scores.disgust" color="warn"></md-progress-bar>
              </p>

            </md-list-item>
            <br>
            <md-list-item>
              <md-icon md-list-icon class="fear"></md-icon>
              <h4 md-line>Fear: </h4>
              <p md-line>{{item.scores.fear}} %
                <md-progress-bar mode="determinate" [value]="item.scores.fear" color="warn"></md-progress-bar>
              </p>

            </md-list-item>
            <br>
            <md-list-item>
              <md-icon md-list-icon class="happiness"></md-icon>
              <h4 md-line>Happiness: </h4>
              <p md-line>{{item.scores.happiness}} %
                <md-progress-bar mode="determinate" [value]="item.scores.happiness" color="warn"></md-progress-bar>
              </p>

            </md-list-item>
            <br>
            <md-list-item>
              <md-icon md-list-icon class="neutral"></md-icon>
              <h4 md-line>Neutral: </h4>
              <p md-line>{{item.scores.neutral}} %
                <md-progress-bar mode="determinate" [value]="item.scores.neutral" color="warn"></md-progress-bar>
              </p>

            </md-list-item>
            <br>
            <md-list-item>
              <md-icon md-list-icon class="sadness"></md-icon>
              <h4 md-line>Sadness: </h4>
              <p md-line>{{item.scores.sadness}} %
                <md-progress-bar mode="determinate" [value]="item.scores.sadness" color="warn"></md-progress-bar>
              </p>

            </md-list-item>
            <br>
            <md-list-item>
              <md-icon md-list-icon class="surprise"></md-icon>
              <h4 md-line>Surprise: </h4>
              <p md-line>{{item.scores.surprise}} %</p>
              <p md-line>
                <md-progress-bar mode="determinate" [value]="item.scores.surprise" color="warn"></md-progress-bar>
              </p>

            </md-list-item>
          </md-list>
        </md-tab>
      </md-tab-group>
    </md-grid-tile>
  </md-grid-list>
</div>